<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>

    <!--
       _   ____                  _ _        _______ _     _       _
      | | |  _ \                | | |      |__   __| |   (_)     | |
      | | | |_) |_   _ _ __   __| | | ___     | |  | |__  _ ___  | |
      | | |  _ <| | | | '_ \ / _` | |/ _ \    | |  | '_ \| / __| | |
      |_| | |_) | |_| | | | | (_| | |  __/    | |  | | | | \__ \ |_|
      (_) |____/ \__,_|_| |_|\__,_|_|\___|    |_|  |_| |_|_|___/ (_)
        CSS
    -->
    <style>
       
    </style>


</head>
<body style="background-color: #f2eecb">

    <h1>DIV PM.JS Only</h1>



    <div class="fiddlehed-video fiddlehed-video-youtube" data-id="A0H6v8yzGM4">

        <!--this div is actually what gets the video-->
        <!--try using a class looper_A0H6v8yzGM4, if adding the id works-->
        <div id="vid_A0H6v8yzGM4" class="pm"></div>
    </div>

    <script src="/pm_locRepeat.js"></script>


    <script>

        var fv_player = [];

        var done = false;



        function onPlayerReady(event) {


            console.log("Clients onYouTubeIframeAPIReady");

            event.target.playVideo();

            //  callMeWithPlayer(fv_player);

            //   console.log('target' + fv_player.getDuration());

            console.log('event: ' + event.target.getDuration());

            var playerX = fv_player.vid_A0H6v8yzGM4.getDuration();

            console.log('using array' + fv_player.vid_A0H6v8yzGM4.getDuration());

            var playerYname = Object.keys(fv_player)[0];

            var playerY = fv_player[playerYname];


            console.log('using array key: ' + playerY.getDuration());

            PMloop(event.target);
            //   callMeWithPlayer(fv_player.find(x => x !== undefined));

            //  fv_player.forEach(x => console.log(x));
        }



        function onYouTubeIframeAPIReady() {
            jQuery('.fiddlehed-video-youtube').each(function () {
                var el = jQuery(this),
                    id = jQuery(this).data('id');
                fv_player['vid_' + id] = new YT.Player('vid_' + id, {
                    height: '315',
                    width: '560',
                    videoId: id,
                    events: {
                        'onReady': onPlayerReady

                    }
                });
                el.find('a').each(function () {
                    jQuery(this).click(function (e) {
                        fv_player['vid_' + id].seekTo(jQuery(this).data('time'));
                        fv_player['vid_' + id].playVideo();
                        e.preventDefault();
                        e.stopPropagation();
                    });
                });
            });
        }

    </script>


    <h2 style="margin-top:0px">Pellentesque habitant morbi tristique senectus et.</h2>

    <ol>
        <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
        <li>Aliquam tincidunt mauris eu risus.</li>
        <li>Vestibulum auctor dapibus neque.</li>
    </ol>


    

</body>


</html>


