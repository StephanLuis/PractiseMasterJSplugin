<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: hostSite-pm.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: hostSite-pm.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * the hostsite module contains the HostSite class
 * @module HostSite Module 
 */


/**
 * currently used by the PageSupport class for methods specific to the host site that is using PractiseMaster
 * @class
 */

class HostSite {

    constructor() {

        //  this.checkURL();

        if (/(?:[^:]+:\/\/)(?:www\.)*([.a-z0-9]+)+/.exec(window.location.href)[1] === 'fiddlehed.com') {

            // Jason says he will only be using Vimeo

            this.cssForFiddleHedVimeo();
        }

        this.hostSiteDetected;

    }


    /**
     * checks web request url on whitelist
     */

    checkURL() {

        var rootDomain = /(?:[^:]+:\/\/)(?:www\.)*([.a-z0-9-]+)+/.exec(window.location.href)[1]

        var whitelist = ['fiddlehed.com', 'practisemaster.com', '8000-stephanluis-practisemast-4fey01cmnqw.ws-eu30.gitpod.io/']

        if (!whitelist.includes(rootDomain)) {

            // bail!
            throw new Error('Your Practisemaster subscription needs attention see practisemaster.com')

        }

    }

    /**
     * css for entire host site (here FiddleHead)
     * @param {string} id id player/plyr/div id
     * @deprecated will need to move all site specific css to a separate file/ object
     */

    formatIndependantCSS(id) {

        console.log('FH independant');
        // on off switch 
        // document.querySelector("#" + id + "_onOff > label").style.marginBottom = "0px";


        // the following formatting seems to work with Safari in full screen
        // many formatting techniques don't!!

        // pull container to left margin
        document.querySelector("#" + id).closest(".container").style.paddingLeft = "0px";

        // don't allow container to expand to full width 
        document.querySelector("#" + id).closest(".container").style.paddingRight = "200px";
    }



    /**
     * css for entire host site (here FiddleHead)
     * @param {string} id id player/plyr/div id
     * @deprecated will need to move all site specific css to a separate file/ object
     */

    cssForFiddleHedVimeo(id) {

        console.log('FH Vimeo style');

        this.formatIndependantCSS(id);

        //  document.querySelector("#player > div.plyr__video-wrapper.plyr__video-embed").style.paddingBottom = "55%";

        //  document.querySelector("#" + id + " > div.plyr__video-wrapper.plyr__video-embed > div.plyr__video-embed__container").style.transform = "translateY(-39.6%)";

        document.querySelector("#" + id + " > div.plyr__controls").style.paddingTop = "0px";

        document.querySelector("#" + id + " > div.plyr__controls").style.paddingBottom = "0px";

    }

}

export default HostSite;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Chapter%2520Module.html">Chapter Module</a></li><li><a href="module-Helpers%2520Module.html">Helpers Module</a></li><li><a href="module-HostSite%2520Module.html">HostSite Module</a></li><li><a href="module-Loop%2520Module.html">Loop Module</a></li><li><a href="module-PageSupport%2520Module.html">PageSupport Module</a></li><li><a href="module-Player%2520Module.html">Player Module</a></li><li><a href="module-PractiseMaster%2520Module.html">PractiseMaster Module</a></li><li><a href="module-UIprep%2520Module.html">UIprep Module</a></li></ul><h3>Classes</h3><ul><li><a href="module-Chapter%252520Module-Chapter.html">Chapter</a></li><li><a href="module-Helpers%2520Module-Helpers.html">Helpers</a></li><li><a href="module-HostSite%2520Module-HostSite.html">HostSite</a></li><li><a href="module-Loop%252520Module-Loop.html">Loop</a></li><li><a href="module-PageSupport%252520Module-PageSupport.html">PageSupport</a></li><li><a href="module-Player%252520Module-Player.html">Player</a></li><li><a href="module-PractiseMaster%2520Module-PractiseMaster.html">PractiseMaster</a></li><li><a href="module-UIprep%252520Module-UIprep.html">UIprep</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed Feb 22 2023 22:49:50 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
